<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-6H3Q6FY6LT"></script><script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());

                  gtag('config', 'G-6H3Q6FY6LT', {
                    page_path: window.location.pathname,
                  });
          </script><meta charSet="UTF-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta property="og:type" content="website"/><meta property="twitter:card" content="summary_large_image"/><link rel="icon" href="/favicon.ico"/><title>React useLayoutEffect vs useEffect</title><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta name="robots" content="follow, index"/><link href="/favicon.ico" rel="shortcut icon"/><meta content="Elaborating the difference between these two hooks" name="description"/><meta property="og:site_name" content="React useLayoutEffect vs useEffect"/><meta property="og:description" content="Elaborating the difference between these two hooks"/><meta property="og:title" content="React useLayoutEffect vs useEffect"/><meta property="og:image" content="https://abdullahgira.com/blog/react-uselayouteffect-vs-useeffect/surface.jpg"/><meta name="twitter:site" content="React useLayoutEffect vs useEffect"/><meta name="twitter:title" content="React useLayoutEffect vs useEffect"/><meta name="twitter:description" content="Elaborating the difference between these two hooks"/><meta name="twitter:image" content="https://abdullahgira.com/blog/react-uselayouteffect-vs-useeffect/surface.jpg"/><meta name="next-head-count" content="18"/><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/css/03d907dd836112ee895c.css" as="style"/><link rel="stylesheet" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/css/03d907dd836112ee895c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/main-74c41ec84421cfc6a77c.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/framework.9116e7bff2bfccdffa19.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/56cd26d444d73f0f229aa91ea40e6e66a0fd253d.7101e693ab2a6b706877.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/cd73ecfe054d650886617b2ea209b9c6c07feeb5.0ba519fdc474ef48b346.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/pages/_app-0256d2c6cabda463e362.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/d09f71c2771447e62661a7b2e7969c57ce47c1dd.1b53dfd49c7cb2c76036.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/pages/blog/%5Bslug%5D-64d3584f6be8bbaa29c6.js" as="script"/></head><body><div id="__next"><nav class="mb-10 border-t-4 border-blue-700"><div class="max-w-5xl mx-auto px-5 md:px-8"><div class="flex justify-between items-center"><div class="py-2 mr-auto -mt-1"><a href="/"><span class="text-lg font-bold tracking-tight">Abdullah Gira</span><span class="text-4xl text-blue-700">.</span></a></div><ul class="flex text-sm"><li><a href="/" class="py-2 hover:text-gray-700 mr-8 text-gray-500">Home</a></li><li><a href="/blog" class="py-2 hover:text-gray-700 undefined text-gray-700 border-b-2 border-blue-700 font-bold px-2">Blog</a></li></ul></div></div></nav><div class="px-5"><div id="skip"><section class="max-w-2xl m-auto my-4 sm:my-16"><div class="mb-10"><h1 class="text-5xl font-bold mb-4">React useLayoutEffect vs useEffect</h1><div class="flex "><p class="mr-2"><time dateTime="2021-01-23T15:14:27.226Z">January	23, 2021</time></p><p class="mr-2">â€¢</p><p class="text-blue-700">1<!-- --> Min Read</p></div></div><article class="prose"><p>They both do the same exact thing with a slightly different behavior, they even look the same.</p>
<div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div>
<h2>useLayoutEffect</h2>
<p>Runs before the component is rendered to the DOM, this is where you run code that has to be processed before the component is painted on the screen. For example, a chat box where you want to scroll to the bottom before the box is rendered.</p>
<div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">scrollTop</span> <span class="token operator">=</span> box<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">offsetHeight</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div>
<h2>useEffect</h2>
<p>Runs after the component is rendered to the DOM, this is where you make all of your requests or handle animations and it is what you need 90% of the times. If you are going to use <code>React.useEffect</code> for scrolling to the bottom of the chat box, you will notice a flicker before it scrolls to the bottom.</p>
<div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">scrollTop</span> <span class="token operator">=</span> box<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">offsetHeight</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div>
<p><img src="/blog/react-uselayouteffect-vs-useeffect/uselayouteffect-vs-useeffect.gif" alt="Demo useLayoutEffect vs useEffect, where the useLayoutEffect scrolls to the bottom before the useEffect does" title="useLayoutEffect vs useEffect"></p>
<p>I had to slow down this demo because useEffect was re-rendering very quickly that it was almost impossible to notice the scroll due to the small set of data used here.</p>
<p>That's it, hope you found something useful.</p>
</article></section></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"React useLayoutEffect vs useEffect","description":"Elaborating the difference between these two hooks","socialImage":"/blog/react-uselayouteffect-vs-useeffect/surface.jpg","content":"\u003cp\u003eThey both do the same exact thing with a slightly different behavior, they even look the same.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-jsx\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eReact\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// ...\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token maybe-class-name\"\u003eReact\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003euseLayoutEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// ...\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003euseLayoutEffect\u003c/h2\u003e\n\u003cp\u003eRuns before the component is rendered to the DOM, this is where you run code that has to be processed before the component is painted on the screen. For example, a chat box where you want to scroll to the bottom before the box is rendered.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-jsx\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eReact\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003euseLayoutEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  box\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003escrollTop\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e box\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eoffsetHeight\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003euseEffect\u003c/h2\u003e\n\u003cp\u003eRuns after the component is rendered to the DOM, this is where you make all of your requests or handle animations and it is what you need 90% of the times. If you are going to use \u003ccode\u003eReact.useEffect\u003c/code\u003e for scrolling to the bottom of the chat box, you will notice a flicker before it scrolls to the bottom.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-jsx\"\u003e\u003ccode class=\"language-jsx\"\u003e\u003cspan class=\"token maybe-class-name\"\u003eReact\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token arrow operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  box\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003escrollTop\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e box\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eoffsetHeight\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/blog/react-uselayouteffect-vs-useeffect/uselayouteffect-vs-useeffect.gif\" alt=\"Demo useLayoutEffect vs useEffect, where the useLayoutEffect scrolls to the bottom before the useEffect does\" title=\"useLayoutEffect vs useEffect\"\u003e\u003c/p\u003e\n\u003cp\u003eI had to slow down this demo because useEffect was re-rendering very quickly that it was almost impossible to notice the scroll due to the small set of data used here.\u003c/p\u003e\n\u003cp\u003eThat's it, hope you found something useful.\u003c/p\u003e\n","readTime":1,"date":"2021-01-23T15:14:27.226Z"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"react-uselayouteffect-vs-useeffect"},"buildId":"s4i8RSkgfcrS2311BF37E","assetPrefix":"https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/polyfills-4beebf4ac9054f0bf4e6.js"></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/main-74c41ec84421cfc6a77c.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/framework.9116e7bff2bfccdffa19.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/56cd26d444d73f0f229aa91ea40e6e66a0fd253d.7101e693ab2a6b706877.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/cd73ecfe054d650886617b2ea209b9c6c07feeb5.0ba519fdc474ef48b346.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/pages/_app-0256d2c6cabda463e362.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/d09f71c2771447e62661a7b2e7969c57ce47c1dd.1b53dfd49c7cb2c76036.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/chunks/pages/blog/%5Bslug%5D-64d3584f6be8bbaa29c6.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/s4i8RSkgfcrS2311BF37E/_buildManifest.js" async=""></script><script src="https://cdn.statically.io/gh/abdullahgira/abdullahgira.github.io/gh-pages/_next/static/s4i8RSkgfcrS2311BF37E/_ssgManifest.js" async=""></script></body></html>